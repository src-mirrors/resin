<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

  <extension
        point="org.eclipse.wst.server.core.runtimeTypes">

    <!-- 3.1 -->
    <runtimeType
      id="org.eclipse.jst.server.generic.runtime.resin31"
      name="%resin31runtimeTypeName"
      description="%resin31runtimeTypeDescription"
      vendor="%resinCategory"
      version="3.1"
      class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntime">
      <moduleType
        types="jst.web"
        versions="2.2, 2.3, 2.4, 2.5"/>
      <moduleType
        types="jst.ejb"
        versions="1.1, 2.0, 2.1, 3.0"/>
      <moduleType
        types="jst.ear"
        versions="1.2, 1.3, 1.4, 5.0"/>
      <moduleType
        types="jst.connector"
        versions="1.0, 1.5"/>
      <moduleType
        types="jst.utility"
        versions="1.0"/>
    </runtimeType>
    
    <runtimeType
      id="org.eclipse.jst.server.generic.runtime.resin31inPlace"
      name="%resin31inPlaceRuntimeTypeName"
      description="%resin31inPlaceRuntimeTypeDescription"
      vendor="%resinCategory"
      version="3.1"
      class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntime">
      <moduleType
        types="jst.web"
        versions="2.2, 2.3, 2.4, 2.5"/>
      <moduleType
        types="jst.ejb"
        versions="1.1, 2.0, 2.1, 3.0"/>
      <moduleType
        types="jst.ear"
        versions="1.2, 1.3, 1.4, 5.0"/>
      <moduleType
        types="jst.connector"
        versions="1.0, 1.5"/>
      <moduleType
        types="jst.utility"
        versions="1.0"/>
    </runtimeType>

    <!-- 4.0 -->
    <runtimeType
      id="org.eclipse.jst.server.generic.runtime.resin40"
      name="%resin40runtimeTypeName"
      description="%resin40runtimeTypeDescription"
      vendor="%resinCategory"
      version="4.0"
      class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntime">
      <moduleType
        types="jst.web"
        versions="2.2, 2.3, 2.4, 2.5"/>
      <moduleType
        types="jst.ejb"
        versions="1.1, 2.0, 2.1, 3.0"/>
      <moduleType
        types="jst.ear"
        versions="1.2, 1.3, 1.4, 5.0"/>
      <moduleType
        types="jst.connector"
        versions="1.0, 1.5"/>
      <moduleType
        types="jst.utility"
        versions="1.0"/>
    </runtimeType>
    
    <runtimeType
      id="org.eclipse.jst.server.generic.runtime.resin40inPlace"
      name="%resin40inPlaceRuntimeTypeName"
      description="%resin40inPlaceRuntimeTypeDescription"
      vendor="%resinCategory"
      version="4.0"
      class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntime">
      <moduleType
        types="jst.web"
        versions="2.2, 2.3, 2.4, 2.5"/>
      <moduleType
        types="jst.ejb"
        versions="1.1, 2.0, 2.1, 3.0"/>
      <moduleType
        types="jst.ear"
        versions="1.2, 1.3, 1.4, 5.0"/>
      <moduleType
        types="jst.connector"
        versions="1.0, 1.5"/>
      <moduleType
        types="jst.utility"
        versions="1.0"/>
    </runtimeType>

    <runtimeType
      id="org.eclipse.jst.server.generic.runtime.resin40hotDeploy"
      name="%resin40hotDeployRuntimeTypeName"
      description="%resin40hotDeployRuntimeTypeDescription"
      vendor="%resinCategory"
      version="4.0"
      class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntime">
      <moduleType
        types="jst.web"
        versions="2.2, 2.3, 2.4, 2.5"/>
      <moduleType
        types="jst.ejb"
        versions="1.1, 2.0, 2.1, 3.0"/>
      <moduleType
        types="jst.ear"
        versions="1.2, 1.3, 1.4, 5.0"/>
      <moduleType
        types="jst.connector"
        versions="1.0, 1.5"/>
      <moduleType
        types="jst.utility"
        versions="1.0"/>
    </runtimeType>

  </extension>

  <extension point="org.eclipse.wst.server.core.serverTypes">
    <!-- 3.1 -->
    <serverType
      behaviourClass="com.caucho.resin.eclipse.ResinServerBehaviour"
      class="com.caucho.resin.eclipse.ResinServer"
      description="%resin31serverTypeDescription"
      hasConfiguration="true"
      id="org.eclipse.jst.server.generic.resin31"
      initialState="stopped"
      launchConfigId="org.eclipse.jst.server.generic.core.launchConfigurationType"
      launchModes="run,debug"
      name="%resin31serverTypeName"
      runtime="true"
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin31"
      supportsRemoteHosts="false">
    </serverType>
    
    <serverType
      behaviourClass="com.caucho.resin.eclipse.ResinServerBehaviour"
      class="com.caucho.resin.eclipse.ResinServer"
      description="%resin31inPlaceServerTypeDescription"
      hasConfiguration="true"
      id="org.eclipse.jst.server.generic.resin31inPlace"
      initialState="stopped"
      launchConfigId="org.eclipse.jst.server.generic.core.launchConfigurationType"
      launchModes="run"
      name="%resin31inPlaceServerTypeName"
      runtime="true"
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin31inPlace"
      supportsRemoteHosts="false">
    </serverType>

    <!-- 4.0 -->
    <serverType
      behaviourClass="com.caucho.resin.eclipse.ResinServerBehaviour"
      class="com.caucho.resin.eclipse.ResinServer"
      description="%resin40serverTypeDescription"
      hasConfiguration="true"
      id="org.eclipse.jst.server.generic.resin40"
      initialState="stopped"
      launchConfigId="org.eclipse.jst.server.generic.core.launchConfigurationType"
      launchModes="run"
      name="%resin40serverTypeName"
      runtime="true"
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin40"
      supportsRemoteHosts="false">
    </serverType>
    
    <serverType
      behaviourClass="com.caucho.resin.eclipse.ResinServerBehaviour"
      class="com.caucho.resin.eclipse.ResinServer"
      description="%resin40inPlaceServerTypeDescription"
      hasConfiguration="true"
      id="org.eclipse.jst.server.generic.resin40inPlace"
      initialState="stopped"
      launchConfigId="org.eclipse.jst.server.generic.core.launchConfigurationType"
      launchModes="run"
      name="%resin40inPlaceServerTypeName"
      runtime="true"
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin40inPlace"
      supportsRemoteHosts="false">
    </serverType>

    <serverType
          behaviourClass="com.caucho.resin.eclipse.ResinServerBehaviour"
          class="com.caucho.resin.eclipse.ResinServer"
          description="%resin40hotDeployServerTypeDescription"
          hasConfiguration="true"
          id="org.eclipse.jst.server.generic.resin40hotDeploy"
          initialState="stopped"
          launchConfigId="org.eclipse.jst.server.generic.core.launchConfigurationType"
          launchModes="run"
          name="%resin40hotDeployServerTypeName"
          runtime="true"
          runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin40hotDeploy"
          startBeforePublish="true"
          supportsRemoteHosts="true">
    </serverType>

  </extension>
  
  <extension point="org.eclipse.wst.server.ui.wizardFragments">
    <!-- 3.1 -->
    <fragment
      id="org.eclipse.jst.server.generic.runtime"
      typeIds="org.eclipse.jst.server.generic.runtime.resin31"
      class="org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment"/>           
    <fragment
      id="org.eclipse.jst.server.generic.server"
      typeIds="org.eclipse.jst.server.generic.resin31"
      class="com.caucho.resin.eclipse.ResinServerWizardFragment"/>
    <fragment
      id="org.eclipse.jst.server.generic.runtime"
      typeIds="org.eclipse.jst.server.generic.runtime.resin31inPlace"
      class="org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment"/>           
    <fragment
      id="org.eclipse.jst.server.generic.server"
      typeIds="org.eclipse.jst.server.generic.resin31inPlace"
      class="com.caucho.resin.eclipse.ResinServerWizardFragment"/>   

    <!-- 4.0 -->
    <fragment
      id="org.eclipse.jst.server.generic.runtime"
      typeIds="org.eclipse.jst.server.generic.runtime.resin40"
      class="org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment"/>           
    <fragment
      id="org.eclipse.jst.server.generic.server"
      typeIds="org.eclipse.jst.server.generic.resin40"
      class="com.caucho.resin.eclipse.ResinServerWizardFragment"/>
    <fragment
      id="org.eclipse.jst.server.generic.runtime"
      typeIds="org.eclipse.jst.server.generic.runtime.resin40inPlace"
      class="org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment"/>           
    <fragment
      id="org.eclipse.jst.server.generic.server"
      typeIds="org.eclipse.jst.server.generic.resin40inPlace"
      class="com.caucho.resin.eclipse.ResinServerWizardFragment"/>
    <fragment
      id="org.eclipse.jst.server.generic.runtime"
      typeIds="org.eclipse.jst.server.generic.runtime.resin40hotDeploy"
      class="org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment"/>           
    <fragment
      id="org.eclipse.jst.server.generic.server"
      typeIds="org.eclipse.jst.server.generic.resin40hotDeploy"
      class="com.caucho.resin.eclipse.ResinServerWizardFragment"/>   
  </extension>

  <extension point="org.eclipse.wst.server.ui.serverImages">
    <!-- 3.1 -->
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.runtime.resin31"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.resin31"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.runtime.resin31inPlace"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.resin31inPlace"/>

    <!-- 4.0 -->
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.runtime.resin40"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.resin40"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.runtime.resin40inPlace"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.resin40inPlace"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.runtime.resin40hotDeploy"/>
    <image
      id="org.eclipse.jst.server.generic.image"
      icon="icons/obj16/resin.png"
      typeIds="org.eclipse.jst.server.generic.resin40hotDeploy"/>
  </extension>

  <extension point="org.eclipse.jst.server.core.runtimeClasspathProviders">
    <runtimeClasspathProvider
      id="org.eclipse.jst.server.generic.runtimeTarget"
      runtimeTypeIds="org.eclipse.jst.server.generic.runtime.resin*"
      class="org.eclipse.jst.server.generic.core.internal.GenericServerRuntimeTargetHandler"/>
  </extension>

  <extension point="org.eclipse.jst.server.generic.core.serverdefinition">
    <!-- 3.1 -->
    <serverdefinition id="org.eclipse.jst.server.generic.runtime.resin31" definitionfile="/servers/resin31.serverdef">
    </serverdefinition>   
    <serverdefinition id="org.eclipse.jst.server.generic.runtime.resin31inPlace" definitionfile="/servers/resin31-in-place.serverdef">
    </serverdefinition>   

    <!-- 4.0 -->
    <serverdefinition id="org.eclipse.jst.server.generic.runtime.resin40" definitionfile="/servers/resin40.serverdef">
    </serverdefinition>   
    <serverdefinition id="org.eclipse.jst.server.generic.runtime.resin40inPlace" definitionfile="/servers/resin40-in-place.serverdef">
    </serverdefinition>
    <serverdefinition id="org.eclipse.jst.server.generic.runtime.resin40hotDeploy" definitionfile="/servers/resin40-hot-deploy.serverdef">
    </serverdefinition>   
  </extension>
  
  <extension point="org.eclipse.wst.common.project.facet.core.runtimes">
    <runtime-component-type
      id="org.eclipse.jst.server.generic.runtime.resin"/>

    <runtime-component-version
      type="org.eclipse.jst.server.generic.runtime.resin"
      version="3.1"/>
      
    <runtime-component-version
      type="org.eclipse.jst.server.generic.runtime.resin"
      version="4.0"/>

    <adapter>
      <runtime-component
        id="org.eclipse.jst.server.generic.runtime.resin"/>
      <factory
        class="org.eclipse.jst.server.core.internal.RuntimeClasspathProvider$Factory"/>
      <type
        class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
    </adapter>

    <supported>
      <runtime-component
        id="org.eclipse.jst.server.generic.runtime.resin"
        version="3.1,4.0"/>
      <facet
        id="jst.web"
        version="2.2,2.3,2.4,2.5"/>
      <facet
        id="jst.ejb"
        version="1.1,2.0,2.1,3.0"/>
      <facet
        id="jst.ear"
        version="1.2,1.3,1.4,5.0"/>
      <facet
        id="jst.connector"
        version="1.0,1.5"/>
      <facet
        id="jst.appclient"
        version="1.2,1.3,1.4,5.0"/>
      <facet
        id="jst.utility"
        version="1.0"/>
    </supported>

  </extension>

  <extension point="org.eclipse.wst.common.project.facet.ui.images">
    <image runtime-component-type="org.eclipse.jst.server.generic.runtime.resin"
      path="icons/obj16/resin.png"/>  
  </extension>

  <extension point="org.eclipse.wst.common.project.facet.core.runtimes">  
    <adapter>
      <runtime-component id="org.eclipse.jst.server.generic.runtime.resin"/>
      <factory class="org.eclipse.jst.server.ui.internal.RuntimeLabelProvider$Factory"/>
      <type class="org.eclipse.wst.common.project.facet.ui.IRuntimeComponentLabelProvider"/>
    </adapter>
  </extension>

  <extension point="org.eclipse.jst.server.core.runtimeFacetMappings">
    <!-- 3.1 -->
    <runtimeFacetMapping
          runtime-component="org.eclipse.jst.server.generic.runtime.resin"
          runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin31"
          version="3.1">
    </runtimeFacetMapping>
    <runtimeFacetMapping
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin31inPlace"
      runtime-component="org.eclipse.jst.server.generic.runtime.resin"
      version="3.1"/>      

    <!-- 4.0 -->
    <runtimeFacetMapping
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin40"
      runtime-component="org.eclipse.jst.server.generic.runtime.resin"
      version="4.0"/>
    <runtimeFacetMapping
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin40inPlace"
      runtime-component="org.eclipse.jst.server.generic.runtime.resin"
      version="4.0"/>
    <runtimeFacetMapping
      runtimeTypeId="org.eclipse.jst.server.generic.runtime.resin40hotDeploy"
      runtime-component="org.eclipse.jst.server.generic.runtime.resin"
      version="4.0"/>            
  </extension>

  <extension
        point="org.eclipse.jst.server.generic.core.genericpublisher">
     <genericpublisher
           class="com.caucho.resin.eclipse.ResinInPlacePublisher"
           id="org.eclipse.jst.server.generic.resin.resininplacepublisher">
     </genericpublisher>
  </extension>
  
  <extension
        point="org.eclipse.jst.server.generic.core.genericpublisher">
     <genericpublisher
           class="com.caucho.resin.eclipse.ResinGitPublisher"
           id="org.eclipse.jst.server.generic.resin.resingitpublisher">
     </genericpublisher>
  </extension>
  <!--
  <extension
        point="org.eclipse.wst.common.project.facet.core.facets">
     <project-facet
           id="resin.xml">
        <label>
           %resinXmlFacetLabel
        </label>
        <description>
           %resinXmlFacetDescription
        </description>
     </project-facet>
     <project-facet-version
           facet="resin.xml"
           version="3.1">
        <action
              id="resin31.install"
              type="INSTALL">
           <delegate
                 class="com.caucho.resin.eclipse.ResinXmlInstallDelegate">
           </delegate>
        </action>
     </project-facet-version>
     <project-facet-version
           facet="resin.xml"
           version="4.0">
       <action id="resin40.install" type="INSTALL">
         <delegate class="com.caucho.resin.eclipse.ResinXmlInstallDelegate"/>
         <config-factory class="com.caucho.resin.eclipse.ResinXmlFacetInstallConfig$Factory"/>
       </action>
     </project-facet-version>
     <preset id="resin.preset">
       <label>Resin Configuration Facet Preset</label>
       <facet id="resin.xml" version="3.1,4.0"/>
     </preset>
  </extension>

  <extension point="org.eclipse.wst.common.project.facet.ui.wizardPages">
     <wizard-pages action="resin40.install">
        <page class="com.caucho.resin.eclipse.ResinXmlFacetWizard"/>
     </wizard-pages>
  </extension>
  -->
</plugin>
